<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>pfetch html partials example</title>
</head>
<body>



<nav id="header"></nav>

<ul class="navbar-list">
	<li class="navbar-item"><a href="/">Home</a></li>
	<li class="navbar-item"><a href="/mikka">mikka</a></li>
	<li class="navbar-item"><a href="/makka">makka</a></li>
	<li class="navbar-item"><a href="/error">error</a></li>

</ul>


<div id="content"></div>

<code id="root"></code>

<footer id="footer">
</footer>



https://medium.com/beginners-guide-to-mobile-web-development/javascript-introduction-to-es6-classes-ecb2db9fe985


https://locutus.io/php/filesystem/pathinfo/


<script type="text/javascript" src="./vendor/fetch.umd.js"></script>

<script type="text/javascript" src="./app/view.js"></script>
<script type="text/javascript" src="./app/payload.js"></script>

<script src="https://unpkg.com/page/page.js"></script>




<script type="text/javascript">



// templating stuff
const header = new View('/_partials/_header.html', '#header')
header.fetchPartial()

let content = new View('/_partials/_content.html', '#content')
content.fetchPartial()

const footer = new View('/_partials/_footer.html', '#footer')
footer.fetchPartial()



// routes
// home
page('/', () => {
	var home = new Payload('./app/database/payload.json', 'root')
	home.fetchJson()
});

page('/mikka', () => {
	var mikka = new Payload('./app/database/payload-mikka.json', 'root')
	mikka.fetchJson()
});

page('/makka', () => {
	var makka = new Payload('./app/database/payload-makka.json', 'root')
	makka.fetchJson()
});



// 404 route
page('*', function(){
	const mikka = new Payload('./app/database/payload-404.json', 'root')
	mikka.fetchJson()
});



page.start();


</script>

</body>
</html>
